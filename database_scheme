Table users {
  id int [pk, increment] // auto-increment
  nickname varchar [not null, unique]
  avatar varchar [note: 'path to png']
  two_factor varchar
  guild  int [ref: - guilds.id]
  status int [ref: - status.id]
  ladder int [ref: - ladders.id]
}

Table ladders {
  id int [pk, increment]
  name varchar  [note: "bronze/silver/gold"]
}

Table status {
  id int [pk, increment]
  name varchar [note: "online/offline/fighting"]
}

Table friends {
  uid int [not null, ref: > users.id]
  fid int [not null, ref: > users.id]
}

Table ignore_list {
  uid int [not null, ref: > users.id]
  fid int [not null, ref: > users.id]
}


Table guilds {
  id int [pk]
  name varchar
  anagram  varchar [not null, unique, note: "size 5"]
  score int
 }

 Table wars {
   id int [pk, increment]
   from int [ref: - guilds.id]
   on int [ref: - guilds.id]
   start datetime
   end datetime
   prize int
 }

 Table matchs_history {
  id int [pk, increment]
  winner int [ref: > users.id]
  looser int [ref: > users.id]
  type int [ref: - match_types.id]
  date datetime
 }

 table match_types {
   id int [pk, increment]
   name varchar [note: "duel/ladder/tournament"]
 }

 Table user_achievements {
   uid int [ref: > users.id]
   aid int [ref: - achievements.id]
 }

 Table achievements {
   id int [pk, increment]
   name varchar
 }

Table chat {
  id int [pk, increment]
  privacy int [note: "public/private/protected"]
  password varchar [note: "bcrypt"]
}

Table chat_administrators {
  chat_id int [ref: - chat.id]
  user int [ref: > users.id]
}

Table chat_participants {
  chat_id int [ref: - chat.id]
  user int [ref: > users.id]
}

Table chat_bans {
  chat_id int [ref: - chat.id]
  user int [ref: > users.id]
}

Table chat_timeouts {
  chat_id int [ref: - chat.id]
  user int [ref: > users.id]
  end datetime
}